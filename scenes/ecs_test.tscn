[gd_scene load_steps=2 format=3 uid="uid://ecs_test_001"]

[ext_resource type="Script" path="res://scripts/ecs_test.gd" id="1"]

[node name="EcsTest" type="Node2D"]
script = ExtResource("1")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(400, 300)

[node name="UI" type="CanvasLayer" parent="."]

[node name="DebugPanel" type="PanelContainer" parent="UI"]
offset_left = 10.0
offset_top = 10.0
offset_right = 250.0
offset_bottom = 500.0

[node name="VBox" type="VBoxContainer" parent="UI/DebugPanel"]
offset_left = 4.0
offset_top = 4.0
offset_right = 236.0
offset_bottom = 486.0

[node name="TitleLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "ECS TEST HARNESS"
horizontal_alignment = 1

[node name="Sep0" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="CountLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "NPC Count: 10"

[node name="CountSlider" type="HSlider" parent="UI/DebugPanel/VBox"]
min_value = 1.0
max_value = 100.0
value = 10.0

[node name="Sep1" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="TestTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Tests"
horizontal_alignment = 1

[node name="TestButtons" type="HBoxContainer" parent="UI/DebugPanel/VBox"]

[node name="Test1" type="Button" parent="UI/DebugPanel/VBox/TestButtons"]
custom_minimum_size = Vector2(42, 0)
text = "1"
tooltip_text = "Arrive: Move to target"

[node name="Test2" type="Button" parent="UI/DebugPanel/VBox/TestButtons"]
custom_minimum_size = Vector2(42, 0)
text = "2"
tooltip_text = "Separation: Push apart"

[node name="Test3" type="Button" parent="UI/DebugPanel/VBox/TestButtons"]
custom_minimum_size = Vector2(42, 0)
text = "3"
tooltip_text = "Both: Arrive + Separate"

[node name="Test4" type="Button" parent="UI/DebugPanel/VBox/TestButtons"]
custom_minimum_size = Vector2(42, 0)
text = "4"
tooltip_text = "Circle: Converge inward"

[node name="Test5" type="Button" parent="UI/DebugPanel/VBox/TestButtons"]
custom_minimum_size = Vector2(42, 0)
text = "5"
tooltip_text = "Mass: Stress test"

[node name="TestDesc" type="Label" parent="UI/DebugPanel/VBox"]
custom_minimum_size = Vector2(0, 80)
text = "1: Arrive - target seeking
2: Separation - push when overlap
3: Both - converge then spread
4: Circle - many NPCs inward
5: Mass - max overlap stress"
autowrap_mode = 2

[node name="Sep2" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="StatusTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Status"
horizontal_alignment = 1

[node name="StateLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "State: IDLE"

[node name="TestLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Test: None"

[node name="PhaseLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Phase: --"

[node name="FPSLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "FPS: --"

[node name="TimeLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Time: 0.0s"

[node name="DistanceLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "NPCs: --"

[node name="VelocityLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Status: --"

[node name="ExpectedLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Sep radius: 20px"

[node name="Sep3" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="LogTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Log"
horizontal_alignment = 1

[node name="LogLabel" type="Label" parent="UI/DebugPanel/VBox"]
custom_minimum_size = Vector2(0, 50)
text = "--"
vertical_alignment = 1
autowrap_mode = 2
