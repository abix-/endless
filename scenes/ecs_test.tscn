[gd_scene load_steps=2 format=3 uid="uid://ecs_test_001"]

[ext_resource type="Script" path="res://scripts/ecs_test.gd" id="1"]

[node name="EcsTest" type="Node2D"]
script = ExtResource("1")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(400, 300)

[node name="UI" type="CanvasLayer" parent="."]

[node name="DebugPanel" type="PanelContainer" parent="UI"]
offset_left = 10.0
offset_top = 10.0
offset_right = 280.0
offset_bottom = 520.0

[node name="VBox" type="VBoxContainer" parent="UI/DebugPanel"]
offset_left = 4.0
offset_top = 4.0
offset_right = 266.0
offset_bottom = 506.0

[node name="TitleLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "ECS TEST HARNESS"
horizontal_alignment = 1

[node name="Sep0" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="CountLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "NPC Count: 500"

[node name="CountSlider" type="HSlider" parent="UI/DebugPanel/VBox"]
min_value = 500.0
max_value = 5000.0
value = 500.0

[node name="Sep1" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="MetricsCheck" type="CheckBox" parent="UI/DebugPanel/VBox"]
text = "Collect Metrics"

[node name="TestTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Select Test"
horizontal_alignment = 1

[node name="TestDropdown" type="OptionButton" parent="UI/DebugPanel/VBox"]
item_count = 12
popup/item_0/text = "-- Select Test --"
popup/item_1/text = "1: Arrive - Move to target"
popup/item_1/id = 1
popup/item_2/text = "2: Separation - Push apart"
popup/item_2/id = 2
popup/item_3/text = "3: Arrive+Sep - Both forces"
popup/item_3/id = 3
popup/item_4/text = "4: Circle - Converge inward"
popup/item_4/id = 4
popup/item_5/text = "5: Mass - Stress test"
popup/item_5/id = 5
popup/item_6/text = "6: World - Data API"
popup/item_6/id = 6
popup/item_7/text = "7: Guard - Patrol cycle"
popup/item_7/id = 7
popup/item_8/text = "8: Farmer - Work cycle"
popup/item_8/id = 8
popup/item_9/text = "9: Health - Damage/Death"
popup/item_9/id = 9
popup/item_10/text = "10: Combat - GPU targeting"
popup/item_10/id = 10
popup/item_11/text = "11: Projectiles - GPU bullets"
popup/item_11/id = 11

[node name="RunButton" type="Button" parent="UI/DebugPanel/VBox"]
text = "Run Test"

[node name="Sep2" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="StatusTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Status"
horizontal_alignment = 1

[node name="StateLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "State: IDLE"

[node name="TestLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Test: None"

[node name="PhaseLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Phase: --"

[node name="FPSLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "FPS: --"

[node name="TimeLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Time: 0.0s"

[node name="DistanceLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "NPCs: --"

[node name="VelocityLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Status: --"

[node name="ExpectedLabel" type="Label" parent="UI/DebugPanel/VBox"]
text = "Sep radius: 20px"

[node name="Sep3" type="HSeparator" parent="UI/DebugPanel/VBox"]

[node name="LogTitle" type="Label" parent="UI/DebugPanel/VBox"]
text = "Log"
horizontal_alignment = 1

[node name="LogLabel" type="Label" parent="UI/DebugPanel/VBox"]
custom_minimum_size = Vector2(0, 50)
text = "--"
vertical_alignment = 1
autowrap_mode = 2

[node name="CopyButton" type="Button" parent="UI/DebugPanel/VBox"]
text = "Copy Debug Info"
